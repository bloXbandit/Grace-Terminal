import{h as v}from"./http-DmdJyNsP.js";import{p as I,r as m,z as L,o as q,d as f,l as r,e as c,w as s,S as W,f as p,h as l,F as b,D as w,t as y,E,i as S,G as N,k as g,B as Q}from"./index-fenXWili.js";const V={class:"routing-preferences"},j={class:"settings-content"},$={class:"preferences-section"},H={class:"preferences-grid"},J={class:"task-header"},K={class:"task-description"},U={class:"model-selection"},X={class:"model-field"},Y={class:"model-field"},Z={class:"preference-actions"},T={class:"global-actions"},ee={__name:"routing-preferences",setup(ne){const k=m(!1),_=m(!1),o=L({}),G=m([{key:"code_generation",name:"Code Generation",description:"Writing, creating, and generating code"},{key:"code_review",name:"Code Review",description:"Analyzing and reviewing existing code"},{key:"debugging",name:"Debugging",description:"Finding and fixing bugs in code"},{key:"data_analysis",name:"Data Analysis",description:"Processing and analyzing data"},{key:"creative_writing",name:"Creative Writing",description:"Creative content and storytelling"},{key:"technical_writing",name:"Technical Writing",description:"Documentation and technical content"},{key:"web_research",name:"Web Research",description:"Online research and information gathering"},{key:"system_design",name:"System Design",description:"Architecture and system design"},{key:"general_chat",name:"General Chat",description:"Casual conversation and Q&A"}]),h=m([{key:"openrouter/openai/gpt-5-pro",name:"GPT-5 Pro (OpenAI)"},{key:"openrouter/openai/gpt-4o",name:"GPT-4o (OpenAI)"},{key:"openrouter/openai/gpt-4o-mini",name:"GPT-4o Mini (OpenAI)"},{key:"openrouter/openai/o1-preview",name:"GPT-o1 Preview (OpenAI)"},{key:"openrouter/anthropic/claude-sonnet-4.5",name:"Claude Sonnet 4.5"},{key:"openrouter/anthropic/claude-3.5-sonnet",name:"Claude 3.5 Sonnet"},{key:"openrouter/anthropic/claude-3-opus",name:"Claude 3 Opus"},{key:"openrouter/deepseek/deepseek-r1",name:"DeepSeek R1 (Reasoning)"},{key:"openrouter/deepseek/deepseek-coder",name:"DeepSeek Coder"},{key:"openrouter/deepseek/deepseek-chat",name:"DeepSeek Chat"},{key:"openrouter/qwen/qwen3-coder-30b-a3b-instruct",name:"Qwen3 Coder 30B"},{key:"openrouter/qwen/qwen3-30b-a3b",name:"Qwen3 30B"},{key:"openrouter/zhipu/glm-4-plus",name:"GLM-4 Plus"},{key:"openrouter/z-ai/glm-4.6",name:"GLM-4.6"},{key:"openrouter/openai/gpt-oss-20b",name:"GPT OSS 20B"},{key:"openrouter/microsoft/phi-4",name:"Phi-4 (Microsoft)"},{key:"openrouter/google/gemini-pro-1.5",name:"Gemini Pro 1.5"},{key:"openrouter/meta-llama/llama-3.1-405b-instruct",name:"Llama 3.1 405B"},{key:"openrouter/gryphe/mythomax-l2-13b",name:"MythoMax L2 13B (Creative)"}]),x={code_generation:{primary:"openrouter/anthropic/claude-sonnet-4.5",fallback:"openrouter/openai/gpt-5-pro"},code_review:{primary:"openrouter/deepseek/deepseek-coder",fallback:"openrouter/anthropic/claude-3-opus"},debugging:{primary:"openrouter/deepseek/deepseek-r1",fallback:"openrouter/deepseek/deepseek-coder"},data_analysis:{primary:"openrouter/z-ai/glm-4.6",fallback:"openrouter/openai/gpt-5-pro"},creative_writing:{primary:"openrouter/gryphe/mythomax-l2-13b",fallback:"openrouter/anthropic/claude-sonnet-4.5"},technical_writing:{primary:"openrouter/anthropic/claude-sonnet-4.5",fallback:"openrouter/openai/gpt-5-pro"},web_research:{primary:"openrouter/z-ai/glm-4.6",fallback:"openrouter/openai/gpt-5-pro"},system_design:{primary:"openrouter/z-ai/glm-4.6",fallback:"openrouter/openai/o1-preview"},general_chat:{primary:"openrouter/openai/gpt-5-pro",fallback:"openrouter/anthropic/claude-sonnet-4.5"}},z=async()=>{k.value=!0;try{const e=await v.get("/api/users/routing-preferences");e.data&&e.data.preferences&&Object.assign(o,e.data.preferences)}catch(e){console.error("Failed to load routing preferences:",e),p.error("Failed to load preferences")}finally{k.value=!1}},C=(e,n)=>{var d;const i=x[e];return i&&((d=h.value.find(u=>u.key===i[n]))==null?void 0:d.name)||"Default"},P=(e,n,i)=>{o[e]||(o[e]={}),o[e][n]=i},B=e=>o[e]&&(o[e].primary_model||o[e].fallback_model),M=e=>{o[e]&&delete o[e],p.success(`Reset ${e} to default`)},R=async()=>{try{await v.delete("/api/users/routing-preferences"),Object.keys(o).forEach(e=>{delete o[e]}),p.success("All routing preferences reset to defaults")}catch(e){console.error("Failed to reset all preferences:",e),p.error("Failed to reset preferences")}},F=async()=>{_.value=!0;try{await v.post("/api/users/routing-preferences",{preferences:o}),p.success("Routing preferences saved successfully!")}catch(e){console.error("Failed to save routing preferences:",e),p.error("Failed to save preferences")}finally{_.value=!1}};return q(()=>{z()}),(e,n)=>{const i=N,d=E,u=Q,O=W;return l(),f("div",V,[n[7]||(n[7]=r("div",{class:"settings-header"},[r("h1",null,"ðŸŽ¯ Routing Preferences"),r("p",null,"Customize how Grace routes different types of tasks to AI specialists")],-1)),r("div",j,[c(O,{spinning:k.value},{default:s(()=>[r("div",$,[n[5]||(n[5]=r("h2",null,"Task Routing Configuration",-1)),n[6]||(n[6]=r("p",{class:"section-description"}," Configure which AI models Grace uses for different types of tasks. This allows you to optimize performance and cost based on your preferences. ",-1)),r("div",H,[(l(!0),f(b,null,w(G.value,t=>{var D,A;return l(),f("div",{key:t.key,class:"preference-card"},[r("div",J,[r("h3",null,y(t.name),1),r("p",K,y(t.description),1)]),r("div",U,[r("div",X,[n[0]||(n[0]=r("label",null,"Primary Model",-1)),c(d,{value:(D=o[t.key])==null?void 0:D.primary_model,placeholder:C(t.key,"primary"),onChange:a=>P(t.key,"primary_model",a),style:{width:"100%"}},{default:s(()=>[(l(!0),f(b,null,w(h.value,a=>(l(),S(i,{key:a.key,value:a.key},{default:s(()=>[g(y(a.name),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","placeholder","onChange"])]),r("div",Y,[n[1]||(n[1]=r("label",null,"Fallback Model",-1)),c(d,{value:(A=o[t.key])==null?void 0:A.fallback_model,placeholder:C(t.key,"fallback"),onChange:a=>P(t.key,"fallback_model",a),style:{width:"100%"}},{default:s(()=>[(l(!0),f(b,null,w(h.value,a=>(l(),S(i,{key:a.key,value:a.key},{default:s(()=>[g(y(a.name),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","placeholder","onChange"])])]),r("div",Z,[c(u,{size:"small",onClick:a=>M(t.key),disabled:!B(t.key)},{default:s(()=>n[2]||(n[2]=[g(" Reset to Default ")])),_:2},1032,["onClick","disabled"])])])}),128))]),r("div",T,[c(u,{type:"primary",onClick:F,loading:_.value},{default:s(()=>n[3]||(n[3]=[g(" Save All Preferences ")])),_:1},8,["loading"]),c(u,{onClick:R,style:{"margin-left":"12px"}},{default:s(()=>n[4]||(n[4]=[g(" Reset All to Defaults ")])),_:1})])])]),_:1},8,["spinning"])])])}}},ae=I(ee,[["__scopeId","data-v-c2f34d37"]]);export{ae as default};
